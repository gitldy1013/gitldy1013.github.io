(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{896:function(a,s,t){"use strict";t.r(s);var n=t(5),r=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"vue中html和markdown互相转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue中html和markdown互相转换"}},[a._v("#")]),a._v(" Vue中Html和Markdown互相转换")]),a._v(" "),t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),t("p",[a._v("最近想实现的一个功能，就是将系统中的博客进行导出成Markdown格式，后面经过了调研发现有两种方法能够满足需求，一个是Java后台中将HTML转换成Markdown， 然后导出。第二种方式是在客户端将Html转换成Markdown")]),a._v(" "),t("h2",{attrs:{id:"前台处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前台处理"}},[a._v("#")]),a._v(" 前台处理")]),a._v(" "),t("h3",{attrs:{id:"markdowntohtml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#markdowntohtml"}},[a._v("#")]),a._v(" MarkdownToHtml")]),a._v(" "),t("h4",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("前台处理Markdown转换成Html，使用的是一款Vue组件 "),t("code",[a._v("showdown")]),a._v("："),t("a",{attrs:{href:"https://github.com/showdownjs/showdown",target:"_blank",rel:"noopener noreferrer"}},[a._v("点我传送"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("前端处理的好处是不需要占用后端的计算资源，因此首选是让客户端做这种处理的事情")]),a._v(" "),t("p",[a._v("首先我们需要安装依赖")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install showdown --save\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("或者使用CDN")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(" https://unpkg.com/showdown/dist/showdown.min.js\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"markdown-转成-html"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#markdown-转成-html"}},[a._v("#")]),a._v(" Markdown 转成 Html")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var showdown  = require('showdown'),\n    converter = new showdown.Converter(),\n    text      = '# hello, markdown!',\n    html      = converter.makeHtml(text);\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"htmltomarkdown"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#htmltomarkdown"}},[a._v("#")]),a._v(" HtmlToMarkdown")]),a._v(" "),t("h4",{attrs:{id:"安装-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("前台处理Html转换成Markdown，使用的是一款Vue组件 "),t("code",[a._v("turndown")]),a._v("："),t("a",{attrs:{href:"https://github.com/domchristie/turndown",target:"_blank",rel:"noopener noreferrer"}},[a._v("点我传送"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("首先安装依赖")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install turndown --save\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("或使用CDN加速")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<script src="https://unpkg.com/turndown/dist/turndown.js"><\/script>\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// For Node.js\nvar TurndownService = require('turndown')\nvar turndownService = new TurndownService()\nvar markdown = turndownService.turndown('<h1>Hello world!</h1>')\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h2",{attrs:{id:"后端处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后端处理"}},[a._v("#")]),a._v(" 后端处理")]),a._v(" "),t("p",[a._v("后端处理使用的是 "),t("code",[a._v("flexmark-java")]),a._v(" ："),t("a",{attrs:{href:"https://github.com/vsch/flexmark-java",target:"_blank",rel:"noopener noreferrer"}},[a._v("点我传送"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"引入依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引入依赖"}},[a._v("#")]),a._v(" 引入依赖")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\x3c!--Markdown 转 Html--\x3e\n<dependency>\n    <groupId>com.vladsch.flexmark</groupId>\n    <artifactId>flexmark-all</artifactId>\n    <version>${flexmark.version}</version>\n</dependency>\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"markdowntohtml-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#markdowntohtml-2"}},[a._v("#")]),a._v(" MarkdownToHtml")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    /**\n     * Markdown转Html\n     * @param markdown\n     * @return\n     */\n    public static String markdownToHtml(String markdown) {\n        MutableDataSet options = new MutableDataSet();\n        Parser parser = Parser.builder(options).build();\n        HtmlRenderer renderer = HtmlRenderer.builder(options).build();\n        Node document = parser.parse(markdown);\n        String html = renderer.render(document);\n        return html;\n    }\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br")])]),t("h3",{attrs:{id:"htmltomarkdown-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#htmltomarkdown-2"}},[a._v("#")]),a._v(" HtmlToMarkdown")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    /**\n     * Html 转 Markdown\n     * @param html\n     * @return\n     */\n    public static String htmlToMarkdown(String html) {\n        MutableDataSet options = new MutableDataSet();\n        String markdown = FlexmarkHtmlConverter.builder(options).build().convert(html);\n        System.out.println(markdown);\n        return markdown;\n    }\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);