(window.webpackJsonp=window.webpackJsonp||[]).push([[407],{1103:function(s,n,a){"use strict";a.r(n);var e=a(5),r=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"单实例部署方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单实例部署方法"}},[s._v("#")]),s._v(" 单实例部署方法")]),s._v(" "),a("h2",{attrs:{id:"准备docker环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备docker环境"}},[s._v("#")]),s._v(" 准备docker环境")]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/zh/docs-docker/安装-Docker.html"}},[s._v("docker安装方法")]),s._v(" "),a("RouterLink",{attrs:{to:"/zh/docs-docker/Docker-Compose-安装与卸载.html"}},[s._v("docker-compose安装方法")]),s._v(" "),a("RouterLink",{attrs:{to:"/zh/git/安装-Git.html"}},[s._v("GIT安装方法")])],1),s._v(" "),a("h2",{attrs:{id:"docker-部署-nacos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署-nacos"}},[s._v("#")]),s._v(" Docker 部署 nacos")]),s._v(" "),a("p",[s._v("找到一个合适的目录执行一下脚本:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir nacos\ngit clone https://github.com/nacos-group/nacos-docker.git\ncd nacos-docker\n# 启动容器\ndocker-compose -f example/standalone-mysql.yaml up -d\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"docker-部署-mysql8-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署-mysql8-0"}},[s._v("#")]),s._v(" Docker 部署 mysql8.0")]),s._v(" "),a("p",[s._v("在刚才那个目录执行以下操作:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir mysql\nvi mysql.yaml\n# 进入编辑模式（set paste）黏贴如下配置：\nversion: '3.1'\nservices:\n  db:\n    image: mysql\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: 123456\n    command:\n      --default-authentication-plugin=mysql_native_password\n      --character-set-server=utf8mb4\n      --collation-server=utf8mb4_general_ci\n      --explicit_defaults_for_timestamp=true\n      --lower_case_table_names=1\n    ports:\n      - 6603:3306\n    volumes:\n      - ./data:/var/lib/mysql\n\n  adminer:\n    image: adminer\n    restart: always\n    ports:\n      - 8080:8080\n# 保存退出 启动容器\ndocker-compose.exe -f ./mysql.yaml up -d\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("p",[s._v("通过sqlyog类似工具连接测试是否安装成功(user:root psw:123456)")]),s._v(" "),a("h2",{attrs:{id:"docker-部署-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署-redis"}},[s._v("#")]),s._v(" Docker 部署 redis")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -p 6379:6379 -v $PWD/data:/data -d redis:latest redis-server --appendonly yes\n# 命令说明：\n-p 6379:6379 : 将容器的6379端口映射到主机的6379端口\n-v $PWD/data:/data : 将主机中当前目录下的data挂载到容器的/data\nredis-server --appendonly yes : 在容器执行redis-server启动命令，并打开redis持久化配置\n# 验证服务 判断是否可以连接redis服务:\ndocker exec -it redis-server redis-cli -h localhost -p 6379\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"docker-部署-rocketmq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署-rocketmq"}},[s._v("#")]),s._v(" Docker 部署 RocketMQ")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("注意：")]),s._v(" 启动 RocketMQ Server + Broker + Console 至少需要 2G 内存")])]),s._v(" "),a("ul",[a("li",[s._v("docker-compose.yml")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  version:  \'3.5\'\n  services:\n   rmqnamesrv:\n   image: foxiswho/rocketmq:server\n   container_name: rmqnamesrv\n   ports:\n   -  9876:9876\n   volumes:\n   -  ./data/logs:/opt/logs\n    -  ./data/store:/opt/store\n    networks:\n    rmq:\n    aliases:\n    - rmqnamesrv\n\n    rmqbroker:\n    image: foxiswho/rocketmq:broker\n    container_name: rmqbroker\n    ports:\n    -  10909:10909\n    -  10911:10911\n    volumes:\n    -  ./data/logs:/opt/logs\n    -  ./data/store:/opt/store\n    -  ./data/brokerconf/broker.conf:/etc/rocketmq/broker.conf\n    environment:\n    NAMESRV_ADDR:  "rmqnamesrv:9876"\n    JAVA_OPTS:  " -Duser.home=/opt"\n    JAVA_OPT_EXT:  "-server -Xms128m -Xmx128m -Xmn128m"\n    command: mqbroker -c /etc/rocketmq/broker.conf\n    depends_on:\n    - rmqnamesrv\n    networks:\n    rmq:\n    aliases:\n    - rmqbroker\n\n    rmqconsole:\n    image: styletang/rocketmq-console-ng\n    container_name: rmqconsole\n    ports:\n    -  8080:8080\n    environment:\n    JAVA_OPTS:  "-Drocketmq.namesrv.addr=rmqnamesrv:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false"\n    depends_on:\n    - rmqnamesrv\n    networks:\n    rmq:\n    aliases:\n    - rmqconsole\n\n   networks:\n    rmq:\n    name: rmq\n    driver: bridge\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br")])]),a("ul",[a("li",[s._v("RocketMQ Broker 需要一个配置文件，按照上面的 Compose 配置，我们需要在  ./data/brokerconf/"),a("code",[s._v("目录下创建一个名为 broker.conf")]),s._v(" 的配置文件，内容如下：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  brokerClusterName=DefaultCluster\n  brokerName=broker-a\n  brokerId=0\n  # 修改为你宿主机的 IP\n  brokerIP1=10.3.50.121\n  defaultTopicQueueNums=4\n  autoCreateTopicEnable=true\n  autoCreateSubscriptionGroup=true\n  listenPort=10911\n   deleteWhen=04\n   fileReservedTime=120\n   mapedFileSizeCommitLog=1073741824\n   mapedFileSizeConsumeQueue=300000\n   diskMaxUsedSpaceRatio=88\n   maxMessageSize=65536\n   brokerRole=ASYNC_MASTER\n   flushDiskType=ASYNC_FLUSH\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"broker-配置文件说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-配置文件说明"}},[s._v("#")]),s._v(" Broker 配置文件说明")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  # 所属集群名字\n  brokerClusterName=DefaultCluster\n\n  # broker 名字，注意此处不同的配置文件填写的不一样，如果在 broker-a.properties 使用: broker-a,\n  # 在 broker-b.properties 使用: broker-b\n  brokerName=broker-a\n\n  # 0 表示 Master，> 0 表示 Slave\n  brokerId=0\n\n   # nameServer地址，分号分割\n   # namesrvAddr=rocketmq-nameserver1:9876;rocketmq-nameserver2:9876\n\n   # 启动IP,如果 docker 报 com.alibaba.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.0.120:10909> failed\n   # 解决方式1 加上一句 producer.setVipChannelEnabled(false);，解决方式2 brokerIP1 设置宿主机IP，不要使用docker 内部IP\n   brokerIP1=192.168.141.123\n\n   # 在发送消息时，自动创建服务器不存在的topic，默认创建的队列数\n   defaultTopicQueueNums=4\n\n   # 是否允许 Broker 自动创建 Topic，建议线下开启，线上关闭 ！！！这里仔细看是 false，false，false\n   autoCreateTopicEnable=true\n\n   # 是否允许 Broker 自动创建订阅组，建议线下开启，线上关闭\n   autoCreateSubscriptionGroup=true\n\n   # Broker 对外服务的监听端口\n   listenPort=10911\n\n   # 删除文件时间点，默认凌晨4点\n   deleteWhen=04\n\n   # 文件保留时间，默认48小时\n   fileReservedTime=120\n\n   # commitLog 每个文件的大小默认1G\n   mapedFileSizeCommitLog=1073741824\n\n   # ConsumeQueue 每个文件默认存 30W 条，根据业务情况调整\n   mapedFileSizeConsumeQueue=300000\n\n   # destroyMapedFileIntervalForcibly=120000\n   # redeleteHangedFileInterval=120000\n   # 检测物理文件磁盘空间\n   diskMaxUsedSpaceRatio=88\n   # 存储路径\n   # storePathRootDir=/home/ztztdata/rocketmq-all-4.1.0-incubating/store\n   # commitLog 存储路径\n   # storePathCommitLog=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/commitlog\n   # 消费队列存储\n   # storePathConsumeQueue=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/consumequeue\n   # 消息索引存储路径\n   # storePathIndex=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/index\n   # checkpoint 文件存储路径\n   # storeCheckpoint=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/checkpoint\n   # abort 文件存储路径\n   # abortFile=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/abort\n   # 限制的消息大小\n   maxMessageSize=65536\n\n   # flushCommitLogLeastPages=4\n   # flushConsumeQueueLeastPages=2\n   # flushCommitLogThoroughInterval=10000\n   # flushConsumeQueueThoroughInterval=60000\n\n   # Broker 的角色\n   # - ASYNC_MASTER 异步复制Master\n   # - SYNC_MASTER 同步双写Master\n   # - SLAVE\n   brokerRole=ASYNC_MASTER\n\n   # 刷盘方式\n   # - ASYNC_FLUSH 异步刷盘\n   # - SYNC_FLUSH 同步刷盘\n   flushDiskType=ASYNC_FLUSH\n\n   # 发消息线程池数量\n   # sendMessageThreadPoolNums=128\n   # 拉消息线程池数量\n   # pullMessageThreadPoolNums=128\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('   # 使用 PostMan 验证是否成功\n   # 测试地址 http://localhost:10002/message/admin/login/log`\n   # 测试参数\n   {\n    "adminId":  1,\n    "createTime":  1571576709210,\n    "ip":  "0.0.0.0",\n    "address":  "0.0.0.0",\n    "userAgent":  "0.0.0.0"\n   }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"安装sentinel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装sentinel"}},[s._v("#")]),s._v(" 安装sentinel")]),s._v(" "),a("p",[s._v("执行如下命令:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 获取镜像 运行容器\ndocker pull registry.cn-shenzhen.aliyuncs.com/dustyone/dustyone_repository:sentinel-latest\ndocker run --name sentinel -d -p 8858:8858 -d ec702979af42\n# 验证是否启动成功\n访问http://localhost:8858\n登录名与密码：sentinel/sentinel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("ul",[a("li",[s._v("在启动dubbo服务时(下面的UmsAdminProviderApplication服务),需要在 JVM 中添加以下启动参数:")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Djava.net.preferIPv4Stack=true\n-Dcsp.sentinel.api.port=8720\n-Dproject.name=ums-admin-provider\n-Dcsp.sentinel.dashboard.server=127.0.0.1:8858\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("访问"),a("a",{attrs:{href:"http://127.0.0.1:8848/nacos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://127.0.0.1:8848/nacos/"),a("OutboundLink")],1),s._v("测试是否安装成功")]),s._v(" "),a("h2",{attrs:{id:"获取源码启动服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取源码启动服务"}},[s._v("#")]),s._v(" 获取源码启动服务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 推荐idea获取项目源码并打开 在mysql中执行doc的sql脚本\ngit clone https://github.com/coming-here/beautiful-leg.git\n# 启动项目后台服务 由于消费和被消费的服务关系 注意启动顺序 自上而下（jdk要求8.0以上版本）\nUmsAdminProviderApplication\nCloudUploadApplication\nBusinessRegApplication\nBusinessOAuth2Application\nBusinessProfileApplication\nGatewayApplication\n#本地DNS配置 可使用SwitchHosts!开启如下配置\n127.0.0.1 tidb.leg.com\n127.0.0.1 nacos.leg.com\n# 启动前端服务\ncd frontend\nnpm install --registry=https://registry.npm.taobao.org\nnpm run dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("blockquote",[a("p",[s._v("说明：此部署方案只是为了开发时测试开发之用 谈不到高可用和高性能 实际应用的部署方案请关注后期更新文档")])]),s._v(" "),a("p",[s._v("访问"),a("a",{attrs:{href:"http://localhost:9528",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:9528"),a("OutboundLink")],1),s._v("测试服务是否顺利启动(user:admin psw:secret)")])])}),[],!1,null,null,null);n.default=r.exports}}]);