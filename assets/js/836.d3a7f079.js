(window.webpackJsonp=window.webpackJsonp||[]).push([[836],{1532:function(s,e,a){"use strict";a.r(e);var n=a(5),r=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"在项目中使用-maven-私服"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在项目中使用-maven-私服"}},[s._v("#")]),s._v(" 在项目中使用 Maven 私服")]),s._v(" "),a("h2",{attrs:{id:"配置认证信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置认证信息"}},[s._v("#")]),s._v(" 配置认证信息")]),s._v(" "),a("p",[s._v("在 Maven "),a("code",[s._v("settings.xml")]),s._v(" 中添加 Nexus 认证信息("),a("code",[s._v("servers")]),s._v(" 节点下)：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <server>\n      <id>nexus-releases</id>\n      <username>admin</username>\n      <password>admin123</password>\n    </server>\n    \n    <server>\n      <id>nexus-snapshots</id>\n      <username>admin</username>\n      <password>admin123</password>\n    </server>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"snapshots-与-releases-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#snapshots-与-releases-的区别"}},[s._v("#")]),s._v(" Snapshots 与 Releases 的区别")]),s._v(" "),a("ul",[a("li",[s._v("nexus-releases: 用于发布 Release 版本")]),s._v(" "),a("li",[s._v("nexus-snapshots: 用于发布 Snapshot 版本（快照版）")])]),s._v(" "),a("p",[s._v("Release 版本与 Snapshot 定义如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    Release: 1.0.0/1.0.0-RELEASE\n    Snapshot: 1.0.0-SNAPSHOT\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("在项目 "),a("code",[s._v("pom.xml")]),s._v(" 中设置的版本号添加 "),a("code",[s._v("SNAPSHOT")]),s._v(" 标识的都会发布为 "),a("code",[s._v("SNAPSHOT")]),s._v(" 版本，没有 "),a("code",[s._v("SNAPSHOT")]),s._v(" 标识的都会发布为 "),a("code",[s._v("RELEASE")]),s._v(" 版本。")]),s._v(" "),a("li",[a("code",[s._v("SNAPSHOT")]),s._v(" 版本会自动加一个时间作为标识，如："),a("code",[s._v("1.0.0-SNAPSHOT")]),s._v(" 发布后为变成 "),a("code",[s._v("1.0.0-SNAPSHOT-20180522.123456-1.jar")])])]),s._v(" "),a("h2",{attrs:{id:"配置自动化部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置自动化部署"}},[s._v("#")]),s._v(" 配置自动化部署")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("pom.xml")]),s._v(" 中添加如下代码：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <distributionManagement>  \n      <repository>  \n        <id>nexus-releases</id>  \n        <name>Nexus Release Repository</name>  \n        <url>http://127.0.0.1:8081/repository/maven-releases/</url>  \n      </repository>  \n      <snapshotRepository>  \n        <id>nexus-snapshots</id>  \n        <name>Nexus Snapshot Repository</name>  \n        <url>http://127.0.0.1:8081/repository/maven-snapshots/</url>  \n      </snapshotRepository>  \n    </distributionManagement> \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("注意事项：")]),s._v(" "),a("ul",[a("li",[s._v("ID 名称必须要与 "),a("code",[s._v("settings.xml")]),s._v(" 中 Servers 配置的 ID 名称保持一致。")]),s._v(" "),a("li",[s._v("项目版本号中有 "),a("code",[s._v("SNAPSHOT")]),s._v(" 标识的，会发布到 Nexus Snapshots Repository, 否则发布到 Nexus Release Repository，并根据 ID 去匹配授权账号。")])]),s._v(" "),a("h2",{attrs:{id:"部署到仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署到仓库"}},[s._v("#")]),s._v(" 部署到仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    mvn deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"上传第三方-jar-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传第三方-jar-包"}},[s._v("#")]),s._v(" 上传第三方 JAR 包")]),s._v(" "),a("p",[s._v("Nexus 3.0 不支持页面上传，可使用 maven 命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    # 如第三方JAR包：aliyun-sdk-oss-2.2.3.jar\n    mvn deploy:deploy-file \n      -DgroupId=com.aliyun.oss \n      -DartifactId=aliyun-sdk-oss \n      -Dversion=2.2.3 \n      -Dpackaging=jar \n      -Dfile=D:\\aliyun-sdk-oss-2.2.3.jar \n      -Durl=http://127.0.0.1:8081/repository/maven-3rd/ \n      -DrepositoryId=nexus-releases\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("注意事项：")]),s._v(" "),a("ul",[a("li",[s._v("建议在上传第三方 JAR 包时，创建单独的第三方 JAR 包管理仓库，便于管理有维护。（maven-3rd）")]),s._v(" "),a("li",[a("code",[s._v("-DrepositoryId=nexus-releases")]),s._v(" 对应的是 "),a("code",[s._v("settings.xml")]),s._v(" 中 Servers 配置的 ID 名称。（授权）")])]),s._v(" "),a("h2",{attrs:{id:"配置代理仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置代理仓库"}},[s._v("#")]),s._v(" 配置代理仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <repositories>\n        <repository>\n            <id>nexus</id>\n            <name>Nexus Repository</name>\n            <url>http://127.0.0.1:8081/repository/maven-public/</url>\n            <snapshots>\n                <enabled>true</enabled>\n            </snapshots>\n            <releases>\n                <enabled>true</enabled>\n            </releases>\n        </repository>\n    </repositories>\n    <pluginRepositories>\n        <pluginRepository>\n            <id>nexus</id>\n            <name>Nexus Plugin Repository</name>\n            <url>http://127.0.0.1:8081/repository/maven-public/</url>\n            <snapshots>\n                <enabled>true</enabled>\n            </snapshots>\n            <releases>\n                <enabled>true</enabled>\n            </releases>\n        </pluginRepository>\n    </pluginRepositories>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);