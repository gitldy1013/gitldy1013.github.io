(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{801:function(e,t,s){"use strict";s.r(t);var a=s(5),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),s("p",[e._v("最近很多模块使用了Redis进行数据的缓存，然后遇到一个问题就是删除缓存，有的键是这样的方式进行存储的")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://image.moguit.cn/e1b0b0ee535f44e2b168dcb4ee4e2e11",alt:""}})]),e._v(" "),s("p",[e._v("我们能发现，它们都是有特定的前缀的，如果我们需要根据指定前缀删除的话，因为redis没有提供根据前缀来删除key的方法")]),e._v(" "),s("p",[e._v("但是提供了另外一个方法，就是根据模糊查询出符合条件的key，然后在调用delete方法删除，具体代码为")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v('// 获取Redis中特定前缀\nSet<String> keys = stringRedisTemplate.keys("BLOG_SORT_BY_MONTH:"  + "*");\n\n// 删除\nstringRedisTemplate.delete(keys);\n')])])]),s("blockquote",[s("p",[e._v("需要注意的是：keys的操作会导致数据库暂时被锁住，其他的请求都会被堵塞；业务量大的时候会出问题")])])])}),[],!1,null,null,null);t.default=n.exports}}]);