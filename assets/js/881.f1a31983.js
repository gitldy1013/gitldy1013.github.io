(window.webpackJsonp=window.webpackJsonp||[]).push([[881],{1577:function(e,s,a){"use strict";a.r(s);var t=a(5),n=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"thymeleaf-模板布局"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#thymeleaf-模板布局"}},[e._v("#")]),e._v(" Thymeleaf 模板布局")]),e._v(" "),a("p",[e._v("这节主要介绍模板的引入。及如何在不改变前端人员的 HTML 显示结果的情况下设计模板（通过属性配置动态时不显示的部分）。")]),e._v(" "),a("h2",{attrs:{id:"模板模块导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板模块导入"}},[e._v("#")]),e._v(" 模板模块导入")]),e._v(" "),a("p",[e._v("首先定义一个 "),a("code",[e._v("/resources/templates/footer.html")]),e._v(" 文件：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">\n    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">\n        <body>\n            <div th:fragment="copy">\n                &copy; 2018 Copyright by cmcc.\n            </div>\n        </body>\n    </html>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("上面的代码定义了一个片段称为 "),a("code",[e._v("copy")]),e._v("，我们可以很容易地使用 "),a("code",[e._v("th:include")]),e._v(" 或者 "),a("code",[e._v("th:replace")]),e._v(" 属性包含在我们的主页上")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <body>\n    ...\n    <div th:include="footer :: copy"></div>\n    </body>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[a("code",[e._v("include")]),e._v(" 的表达式想当简洁。这里有三种写法：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("templatename::domselector")]),e._v(" 或者 "),a("code",[e._v("templatename::[domselector]")]),e._v(" 引入模板页面中的某个模块")]),e._v(" "),a("li",[a("code",[e._v("templatename")]),e._v(" 引入模板页面")]),e._v(" "),a("li",[a("code",[e._v("::domselector")]),e._v(" 或者 "),a("code",[e._v("this::domselector")]),e._v(" 引入自身模板的模块")])]),e._v(" "),a("p",[e._v("上面所有的 "),a("code",[e._v("templatename")]),e._v(" 和 "),a("code",[e._v("domselector")]),e._v(" 的写法都支持表达式写法：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <div th:include="footer :: (${user.isAdmin}? #{footer.admin} : #{footer.normaluser})"></div>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"不使用-th-fragment-来引用模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不使用-th-fragment-来引用模块"}},[e._v("#")]),e._v(" 不使用 "),a("code",[e._v("th:fragment")]),e._v(" 来引用模块")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <div id="copy-section">\n    &copy; 2018 Copyright by cmcc.\n    </div>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("我们可以用 CSS 的选择器写法来引入")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <body>\n    ...\n    <div th:include="footer :: #copy-section"></div>\n    </body>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h2",{attrs:{id:"th-include-和-th-replace-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#th-include-和-th-replace-的区别"}},[e._v("#")]),e._v(" "),a("code",[e._v("th:include")]),e._v(" 和 "),a("code",[e._v("th:replace")]),e._v(" 的区别")]),e._v(" "),a("p",[a("code",[e._v("th:include")]),e._v(" 和 "),a("code",[e._v("th:replace")]),e._v(" 都可以引入模块，两者的区别在于：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("th:include")]),e._v("：引入子模块的 children，依然保留父模块的 tag")]),e._v(" "),a("li",[a("code",[e._v("th:replace")]),e._v("：引入子模块的所有，不保留父模块的 tag")])]),e._v(" "),a("h3",{attrs:{id:"举个例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举个例子"}},[e._v("#")]),e._v(" 举个例子")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <footer th:fragment="copy">\n    &copy; 2018 Copyright by cmcc.\n    </footer>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h3",{attrs:{id:"引入界面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入界面"}},[e._v("#")]),e._v(" 引入界面")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    <body>\n    ...\n    <div th:include="footer :: copy"></div>\n    <div th:replace="footer :: copy"></div>\n    </body>\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("h3",{attrs:{id:"显示结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示结果"}},[e._v("#")]),e._v(" 显示结果")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    <body>\n    ...\n    <div>\n    &copy; 2018 Copyright by cmcc.\n    </div>\n    <footer>\n    &copy; 2018 Copyright by cmcc.\n    </footer>\n    </body>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);