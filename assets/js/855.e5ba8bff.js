(window.webpackJsonp=window.webpackJsonp||[]).push([[855],{1550:function(e,n,s){"use strict";s.r(n);var a=s(5),t=Object(a.a)({},(function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"安装-kubeadm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-kubeadm"}},[e._v("#")]),e._v(" 安装 kubeadm")]),e._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[e._v("#")]),e._v(" 概述")]),e._v(" "),s("p",[e._v("kubeadm 是 kubernetes 的集群安装工具，能够快速安装 kubernetes 集群。")]),e._v(" "),s("h2",{attrs:{id:"配置软件源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置软件源"}},[e._v("#")]),e._v(" 配置软件源")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("    # 安装系统工具\n    apt-get update && apt-get install -y apt-transport-https\n    # 安装 GPG 证书\n    curl https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg | apt-key add -\n    # 写入软件源；注意：我们用系统代号为 bionic，但目前阿里云不支持，所以沿用 16.04 的 xenial\n    cat << EOF >/etc/apt/sources.list.d/kubernetes.list\n    > deb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main\n    > EOF\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("h2",{attrs:{id:"安装-kubeadm-kubelet-kubectl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-kubeadm-kubelet-kubectl"}},[e._v("#")]),e._v(" 安装 kubeadm，kubelet，kubectl")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("    # 安装\n    apt-get update  \n    apt-get install -y kubelet kubeadm kubectl\n    指定版本：\n    apt-get install -y kubelet=1.14.1-00 kubeadm=1.14.1-00 kubectl=1.14.1-00\n    \n    # 安装过程如下，注意 kubeadm 的版本号\n    Reading package lists... Done\n    Building dependency tree       \n    Reading state information... Done\n    The following additional packages will be installed:\n      conntrack cri-tools kubernetes-cni socat\n    The following NEW packages will be installed:\n      conntrack cri-tools kubeadm kubectl kubelet kubernetes-cni socat\n    0 upgraded, 7 newly installed, 0 to remove and 96 not upgraded.\n    Need to get 50.6 MB of archives.\n    After this operation, 290 MB of additional disk space will be used.\n    Get:1 http://mirrors.aliyun.com/ubuntu bionic/main amd64 conntrack amd64 1:1.4.4+snapshot20161117-6ubuntu2 [30.6 kB]\n    Get:2 http://mirrors.aliyun.com/ubuntu bionic/main amd64 socat amd64 1.7.3.2-2ubuntu2 [342 kB]\n    Get:3 https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial/main amd64 cri-tools amd64 1.12.0-00 [5,343 kB]\n    Get:4 https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial/main amd64 kubernetes-cni amd64 0.7.5-00 [6,473 kB]\n    Get:5 https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial/main amd64 kubelet amd64 1.14.1-00 [21.5 MB]\n    Get:6 https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial/main amd64 kubectl amd64 1.14.1-00 [8,806 kB]\n    Get:7 https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial/main amd64 kubeadm amd64 1.14.1-00 [8,150 kB]\n    Fetched 50.6 MB in 5s (9,912 kB/s) \n    Selecting previously unselected package conntrack.\n    (Reading database ... 67205 files and directories currently installed.)\n    Preparing to unpack .../0-conntrack_1%3a1.4.4+snapshot20161117-6ubuntu2_amd64.deb ...\n    Unpacking conntrack (1:1.4.4+snapshot20161117-6ubuntu2) ...\n    Selecting previously unselected package cri-tools.\n    Preparing to unpack .../1-cri-tools_1.12.0-00_amd64.deb ...\n    Unpacking cri-tools (1.12.0-00) ...\n    Selecting previously unselected package kubernetes-cni.\n    Preparing to unpack .../2-kubernetes-cni_0.7.5-00_amd64.deb ...\n    Unpacking kubernetes-cni (0.7.5-00) ...\n    Selecting previously unselected package socat.\n    Preparing to unpack .../3-socat_1.7.3.2-2ubuntu2_amd64.deb ...\n    Unpacking socat (1.7.3.2-2ubuntu2) ...\n    Selecting previously unselected package kubelet.\n    Preparing to unpack .../4-kubelet_1.14.1-00_amd64.deb ...\n    Unpacking kubelet (1.14.1-00) ...\n    Selecting previously unselected package kubectl.\n    Preparing to unpack .../5-kubectl_1.14.1-00_amd64.deb ...\n    Unpacking kubectl (1.14.1-00) ...\n    Selecting previously unselected package kubeadm.\n    Preparing to unpack .../6-kubeadm_1.14.1-00_amd64.deb ...\n    Unpacking kubeadm (1.14.1-00) ...\n    Setting up conntrack (1:1.4.4+snapshot20161117-6ubuntu2) ...\n    Setting up kubernetes-cni (0.7.5-00) ...\n    Setting up cri-tools (1.12.0-00) ...\n    Setting up socat (1.7.3.2-2ubuntu2) ...\n    Setting up kubelet (1.14.1-00) ...\n    Created symlink /etc/systemd/system/multi-user.target.wants/kubelet.service → /lib/systemd/system/kubelet.service.\n    Setting up kubectl (1.14.1-00) ...\n    Processing triggers for man-db (2.8.3-2ubuntu0.1) ...\n    # 注意这里的版本号，我们使用的是 kubernetes v1.14.1\n    Setting up kubeadm (1.14.1-00) ...\n    \n    # 设置 kubelet 自启动，并启动 kubelet\n    systemctl enable kubelet && systemctl start kubelet\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br"),s("span",{staticClass:"line-number"},[e._v("29")]),s("br"),s("span",{staticClass:"line-number"},[e._v("30")]),s("br"),s("span",{staticClass:"line-number"},[e._v("31")]),s("br"),s("span",{staticClass:"line-number"},[e._v("32")]),s("br"),s("span",{staticClass:"line-number"},[e._v("33")]),s("br"),s("span",{staticClass:"line-number"},[e._v("34")]),s("br"),s("span",{staticClass:"line-number"},[e._v("35")]),s("br"),s("span",{staticClass:"line-number"},[e._v("36")]),s("br"),s("span",{staticClass:"line-number"},[e._v("37")]),s("br"),s("span",{staticClass:"line-number"},[e._v("38")]),s("br"),s("span",{staticClass:"line-number"},[e._v("39")]),s("br"),s("span",{staticClass:"line-number"},[e._v("40")]),s("br"),s("span",{staticClass:"line-number"},[e._v("41")]),s("br"),s("span",{staticClass:"line-number"},[e._v("42")]),s("br"),s("span",{staticClass:"line-number"},[e._v("43")]),s("br"),s("span",{staticClass:"line-number"},[e._v("44")]),s("br"),s("span",{staticClass:"line-number"},[e._v("45")]),s("br"),s("span",{staticClass:"line-number"},[e._v("46")]),s("br"),s("span",{staticClass:"line-number"},[e._v("47")]),s("br"),s("span",{staticClass:"line-number"},[e._v("48")]),s("br"),s("span",{staticClass:"line-number"},[e._v("49")]),s("br"),s("span",{staticClass:"line-number"},[e._v("50")]),s("br"),s("span",{staticClass:"line-number"},[e._v("51")]),s("br"),s("span",{staticClass:"line-number"},[e._v("52")]),s("br"),s("span",{staticClass:"line-number"},[e._v("53")]),s("br"),s("span",{staticClass:"line-number"},[e._v("54")]),s("br"),s("span",{staticClass:"line-number"},[e._v("55")]),s("br"),s("span",{staticClass:"line-number"},[e._v("56")]),s("br"),s("span",{staticClass:"line-number"},[e._v("57")]),s("br"),s("span",{staticClass:"line-number"},[e._v("58")]),s("br"),s("span",{staticClass:"line-number"},[e._v("59")]),s("br"),s("span",{staticClass:"line-number"},[e._v("60")]),s("br")])]),s("ul",[s("li",[e._v("kubeadm：用于初始化 Kubernetes 集群")]),e._v(" "),s("li",[e._v("kubectl：Kubernetes 的命令行工具，主要作用是部署和管理应用，查看各种资源，创建，删除和更新组件")]),e._v(" "),s("li",[e._v("kubelet：主要负责启动 Pod 和容器")])])])}),[],!1,null,null,null);n.default=t.exports}}]);