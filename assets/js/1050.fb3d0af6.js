(window.webpackJsonp=window.webpackJsonp||[]).push([[1050],{1746:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jquery-treetable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jquery-treetable"}},[s._v("#")]),s._v(" jQuery TreeTable")]),s._v(" "),a("p",[s._v("treeTable 是跨浏览器、性能很高的 jQuery 的树表组件，它使用非常简单，只需要引用 jQuery 库和一个 js 文件，接口也很简单。")]),s._v(" "),a("p",[s._v("优点：")]),s._v(" "),a("ul",[a("li",[s._v("兼容主流浏览器：支持 IE6 和 IE6+, Firefox, chrome, Opera, Safari")]),s._v(" "),a("li",[s._v("接口简洁：在普通表格的基础上增加父子关系的自定义标签就可以")]),s._v(" "),a("li",[s._v("组件性能高：内部实现了只绑定了 table 的事件、使用了 css sprite 合并图片等")]),s._v(" "),a("li",[s._v("提供两种风格：通过参数来设置风格")])]),s._v(" "),a("h2",{attrs:{id:"页面引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面引用"}},[s._v("#")]),s._v(" 页面引用")]),s._v(" "),a("p",[s._v("CSS 部分")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <link rel="stylesheet" href="/static/assets/plugins/treeTable/themes/vsStyle/treeTable.min.css" /> \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("JS 部分")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <script src="/static/assets/plugins/treeTable/jquery.treeTable.min.js"><\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口"}},[s._v("#")]),s._v(" 接口")]),s._v(" "),a("h3",{attrs:{id:"配置参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置参数"}},[s._v("#")]),s._v(" 配置参数")]),s._v(" "),a("ul",[a("li",[s._v("theme: string 主题，有两个选项：default、vsStyle. 默认:default")]),s._v(" "),a("li",[s._v("expandLevel: int 树表的展开层次. 默认:1")]),s._v(" "),a("li",[s._v("column: int 可控制列的序号. 默认:0，即第一列")]),s._v(" "),a("li",[s._v("onSelect: function 拥有 controller 自定义属性的元素的点击事件，return false 则中止展开")]),s._v(" "),a("li",[s._v("beforeExpand: 展开子节点前触发的事件")])]),s._v(" "),a("h3",{attrs:{id:"属性说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性说明"}},[s._v("#")]),s._v(" 属性说明")]),s._v(" "),a("ul",[a("li",[s._v("id: string 行的 id")]),s._v(" "),a("li",[s._v("pId: string 父行的 id")]),s._v(" "),a("li",[s._v("controller: bool 指定某一个元素是否可以控制行的展开")]),s._v(" "),a("li",[s._v("hasChild: bool 指定某一个 tr 元素是否有孩子（动态加载需用到）")]),s._v(" "),a("li",[s._v("isFirstOne: bool 指定某一个 tr 元素是否是第一个孩子（自动生成属性，只读）")]),s._v(" "),a("li",[s._v("isLastOne: bool 指定某一个 tr 元素是否是最后一个孩子（自动生成属性，只读）")]),s._v(" "),a("li",[s._v("prevId: string 前一个兄弟节点的 id（自动生成属性，只读）")]),s._v(" "),a("li",[s._v("depth: string 当前行的深度（自动生成属性，只读）")])]),s._v(" "),a("h2",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[s._v("#")]),s._v(" 使用方法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    $(function () {\n        $("#treeTable").treeTable({\n            expandLevel: 2,\n            column: 1\n        });\n    });\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"html-结构代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-结构代码"}},[s._v("#")]),s._v(" HTML 结构代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <table id="treeTable1" style="width:100%">\n        <tr>\n            <td style="width:200px;">标题</td>\n            <td>内容</td>\n        </tr>\n        <tr id="1">\n            <td><span controller="true">1</span></td>\n            <td>内容</td></tr>\n        <tr id="2" pId="1">\n            <td><span controller="true">2</span></td>\n            <td>内容</td></tr>\n        <tr id="3" pId="2">\n            <td>3</td>\n            <td>内容</td>\n        </tr>\n        <tr id="4" pId="2">\n            <td>4</td>\n            <td>内容</td>\n        </tr>\n        <tr id="5" pId="4">\n            <td>4.1</td>\n            <td>内容</td>\n        </tr>\n        <tr id="6" pId="1" hasChild="true">\n            <td>5</td>\n            <td>注意这个节点是动态加载的</td>\n        </tr>\n        <tr id="7">\n            <td>8</td>\n            <td>内容</td>\n        </tr>\n    </table>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("h3",{attrs:{id:"注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[s._v("#")]),s._v(" 注意事项")]),s._v(" "),a("p",[s._v("这里的 HTML 结构是经过排序的，每行数据必须紧跟其子类目的数据项，结构类似于：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    类目 1\n        类目 1-1\n        类目 1-2\n        ...\n    类目 2\n        类目 2-1\n    类目 3\n    类目 4\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("服务端排序代码如下（以下方式是根据之前提供的 "),a("code",[s._v("myshop")]),s._v(" 数据库中的 "),a("code",[s._v("tb_content_category")]),s._v(" 表结构得来，有需要请加群获取）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    // 调用方法，0 为约定好的根节点\n    sortList(sourceList, targetList, 0L);\n    \n    /**\n     * 排序\n     * @param sourceList 数据源集合\n     * @param targetList 排序后的集合\n     * @param parentId 当前的父级类目 ID\n     */\n    private void sortList(List<TbContentCategory> sourceList, List<TbContentCategory> targetList, Long parentId) {\n        for (TbContentCategory sourceContentCategory : sourceList) {\n            if (sourceContentCategory.getParentId().equals(parentId)) {\n                targetList.add(sourceContentCategory);\n    \n                // 判断有没有子节点，有则继续追加\n                if (sourceContentCategory.getParent()) {\n                    for (TbContentCategory tbContentCategory : sourceList) {\n                        if (tbContentCategory.getParentId().equals(sourceContentCategory.getId())) {\n                            sortList(sourceList, targetList, sourceContentCategory.getId());\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"演示效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#演示效果"}},[s._v("#")]),s._v(" 演示效果")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/1529862549.png",alt:""}})])])}),[],!1,null,null,null);t.default=e.exports}}]);