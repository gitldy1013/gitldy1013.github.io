(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{853:function(s,t,a){"use strict";a.r(t);var n=a(5),i=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"eureka管理页面配置-actuator-info接口返回git信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eureka管理页面配置-actuator-info接口返回git信息"}},[s._v("#")]),s._v(" Eureka管理页面配置/actuator/info接口返回git信息")]),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("这阵子在弄监控页面，我点击eureka里面的地址")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/image-20200107213729955.png",alt:"image-20200107213729955"}})]),s._v(" "),a("p",[s._v("发现进去的页面没有 任何内容显示，后面想想可能是没有什么东西没有配置而引起的")]),s._v(" "),a("p",[s._v("通过查阅资料发现，微服务若是用git管理，当前微服务部署的git的版本信息是不可或缺的信息，spring boot admin中通过/actuator/info接口返回git基本信息。该接口若要返回git信息，首先需要引入Actuator依赖")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\x3c!-- 使用Actuator的/info端点输出Git版本 --\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("同时需要添加git-commit-id-plugin插件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("            <plugin>\n                <groupId>pl.project13.maven</groupId>\n                <artifactId>git-commit-id-plugin</artifactId>\n                <version>2.1.15</version>\n                <executions>\n                    <execution>\n                        <goals>\n                            <goal>revision</goal>\n                        </goals>\n                    </execution>\n                </executions>\n                <configuration>\n                    <dotGitDirectory>${project.basedir}/.git</dotGitDirectory>\n                </configuration>\n            </plugin>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("添加完成后，我们查看IDEA的Maven，能够发现多出了一个 git-commit-id:revision")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/image-20200107214012195.png",alt:"image-20200107214012195"}})]),s._v(" "),a("p",[s._v("我们点击后，在"),a("code",[s._v("target/classes")]),s._v("目录下，我们可以发现产生了一个"),a("code",[s._v("git.properties")]),s._v("配置信息：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/image-20200107214404474.png",alt:"image-20200107214404474"}})]),s._v(" "),a("p",[s._v("里面的内容就是当前项目的git信息：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#Generated by Git-Commit-Id-Plugin\n#Tue Jan 07 21:25:46 CST 2020\ngit.build.user.email=xzx19950624@qq.com\ngit.build.host=DESKTOP-DIA5I1I\ngit.dirty=true\ngit.remote.origin.url=https\\://github.com/moxi624/mogu_blog_v2.git\ngit.closest.tag.name=\ngit.commit.id.describe-short=6f1ef9e-dirty\ngit.commit.user.email=xzx19950624@qq.com\ngit.commit.time=2020-01-07T19\\:58\\:26+0800\ngit.commit.message.full=update banner\ngit.build.version=0.0.1-SNAPSHOT\ngit.commit.message.short=update banner\ngit.commit.id.abbrev=6f1ef9e\ngit.branch=dev\ngit.build.user.name=陌溪_\ngit.closest.tag.commit.count=\ngit.commit.id.describe=6f1ef9e-dirty\ngit.commit.id=6f1ef9e48bbd0f3cb825b7934152dde21d821456\ngit.tags=\ngit.build.time=2020-01-07T21\\:25\\:46+0800\ngit.commit.user.name=陌溪_\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("然后启动eureka页面，在点击刚刚的a标签，发现能够成功获取到git信息了")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/image-20200107214142962.png",alt:"image-20200107214142962"}})])])}),[],!1,null,null,null);t.default=i.exports}}]);