(window.webpackJsonp=window.webpackJsonp||[]).push([[968],{1664:function(s,n,a){"use strict";a.r(n);var e=a(5),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"创建管理员服务提供者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建管理员服务提供者"}},[s._v("#")]),s._v(" 创建管理员服务提供者")]),s._v(" "),a("h2",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[s._v("#")]),s._v(" 创建项目")]),s._v(" "),a("p",[s._v("创建一个名为 "),a("code",[s._v("itoken-service-admin")]),s._v(" 的服务提供者项目")]),s._v(" "),a("h2",{attrs:{id:"pom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pom"}},[s._v("#")]),s._v(" POM")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <?xml version="1.0" encoding="UTF-8"?>\n    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n        <modelVersion>4.0.0</modelVersion>\n    \n        <parent>\n            <groupId>com.cmcc</groupId>\n            <artifactId>itoken-dependencies</artifactId>\n            <version>1.0.0-SNAPSHOT</version>\n            <relativePath>../itoken-dependencies/pom.xml</relativePath>\n        </parent>\n    \n        <artifactId>itoken-service-admin</artifactId>\n        <packaging>jar</packaging>\n    \n        <name>itoken-service-admin</name>\n        <url>http://www.cmcc.com</url>\n        <inceptionYear>2018-Now</inceptionYear>\n    \n        <dependencies>\n            \x3c!-- Spring Boot Begin --\x3e\n            <dependency>\n                <groupId>com.alibaba</groupId>\n                <artifactId>druid-spring-boot-starter</artifactId>\n            </dependency>\n            <dependency>\n                <groupId>tk.mybatis</groupId>\n                <artifactId>mapper-spring-boot-starter</artifactId>\n            </dependency>\n            <dependency>\n                <groupId>com.github.pagehelper</groupId>\n                <artifactId>pagehelper-spring-boot-starter</artifactId>\n            </dependency>\n            <dependency>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-starter-test</artifactId>\n                <scope>test</scope>\n            </dependency>\n            \x3c!-- Spring Boot End --\x3e\n    \n            \x3c!-- Spring Cloud Begin --\x3e\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-zipkin</artifactId>\n            </dependency>\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-config</artifactId>\n            </dependency>\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-starter-netflix-eureka-server</artifactId>\n            </dependency>\n            \x3c!-- Spring Cloud End --\x3e\n    \n            \x3c!-- Spring Boot Admin Begin --\x3e\n            <dependency>\n                <groupId>org.jolokia</groupId>\n                <artifactId>jolokia-core</artifactId>\n            </dependency>\n            <dependency>\n                <groupId>de.codecentric</groupId>\n                <artifactId>spring-boot-admin-starter-client</artifactId>\n            </dependency>\n            \x3c!-- Spring Boot Admin End --\x3e\n    \n            \x3c!-- Database Begin --\x3e\n            <dependency>\n                <groupId>mysql</groupId>\n                <artifactId>mysql-connector-java</artifactId>\n                <scope>runtime</scope>\n            </dependency>\n            \x3c!-- Database End --\x3e\n        </dependencies>\n    \n        <build>\n            <plugins>\n                <plugin>\n                    <groupId>org.springframework.boot</groupId>\n                    <artifactId>spring-boot-maven-plugin</artifactId>\n                    <configuration>\n                        <mainClass>com.cmcc.itoken.service.admin.ServiceAdminApplication</mainClass>\n                    </configuration>\n                </plugin>\n    \n                <plugin>\n                    <groupId>org.mybatis.generator</groupId>\n                    <artifactId>mybatis-generator-maven-plugin</artifactId>\n                    <version>1.3.5</version>\n                    <configuration>\n                        <configurationFile>${basedir}/src/main/resources/generator/generatorConfig.xml</configurationFile>\n                        <overwrite>true</overwrite>\n                        <verbose>true</verbose>\n                    </configuration>\n                    <dependencies>\n                        <dependency>\n                            <groupId>mysql</groupId>\n                            <artifactId>mysql-connector-java</artifactId>\n                            <version>${mysql.version}</version>\n                        </dependency>\n                        <dependency>\n                            <groupId>tk.mybatis</groupId>\n                            <artifactId>mapper</artifactId>\n                            <version>3.4.4</version>\n                        </dependency>\n                    </dependencies>\n                </plugin>\n            </plugins>\n        </build>\n    </project>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br")])]),a("h2",{attrs:{id:"application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application"}},[s._v("#")]),s._v(" Application")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    package com.cmcc.itoken.service.admin;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n    import tk.mybatis.spring.annotation.MapperScan;\n    \n    @SpringBootApplication\n    @EnableEurekaClient\n    @MapperScan(basePackages = "com.cmcc.itoken.service.admin.mapper")\n    public class ServiceAdminApplication {\n        public static void main(String[] args) {\n            SpringApplication.run(ServiceAdminApplication.class, args);\n        }\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"本地配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地配置"}},[s._v("#")]),s._v(" 本地配置")]),s._v(" "),a("h3",{attrs:{id:"bootstrap-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-yml"}},[s._v("#")]),s._v(" bootstrap.yml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    spring:\n      cloud:\n        config:\n          uri: http://localhost:8888\n          name: itoken-service-admin\n          label: master\n          profile: dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"bootstrap-prod-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-prod-yml"}},[s._v("#")]),s._v(" bootstrap-prod.yml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    spring:\n      cloud:\n        config:\n          uri: http://192.168.75.137:8888\n          name: itoken-service-admin\n          label: master\n          profile: prod\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"云配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#云配置"}},[s._v("#")]),s._v(" 云配置")]),s._v(" "),a("h3",{attrs:{id:"itoken-service-admin-dev-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#itoken-service-admin-dev-yml"}},[s._v("#")]),s._v(" itoken-service-admin-dev.yml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    spring:\n      application:\n        name: itoken-service-admin\n      boot:\n        admin:\n          client:\n            url: http://localhost:8084\n      zipkin:\n        base-url: http://localhost:9411\n      datasource:\n        druid:\n          url: jdbc:mysql://192.168.75.133:3306/itoken-service-admin?useUnicode=true&characterEncoding=utf-8&useSSL=false\n          username: root\n          password: 123456\n          initial-size: 1\n          min-idle: 1\n          max-active: 20\n          test-on-borrow: true\n          # MySQL 8.x: com.mysql.cj.jdbc.Driver\n          driver-class-name: com.mysql.jdbc.Driver\n    \n    server:\n      port: 8501\n    \n    mybatis:\n      type-aliases-package: com.cmcc.itoken.service.admin.domain\n      mapper-locations: classpath:mapper/*.xml\n    \n    eureka:\n      client:\n        serviceUrl:\n          defaultZone: http://localhost:8761/eureka/\n    \n    management:\n      endpoint:\n        health:\n          show-details: always\n      endpoints:\n        web:\n          exposure:\n            include: health,info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h3",{attrs:{id:"itoken-service-admin-prod-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#itoken-service-admin-prod-yml"}},[s._v("#")]),s._v(" itoken-service-admin-prod.yml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    spring:\n      application:\n        name: itoken-service-admin\n      boot:\n        admin:\n          client:\n            url: http://192.168.75.137:8084\n      zipkin:\n        base-url: http://192.168.75.137:9411\n      datasource:\n        druid:\n          url: jdbc:mysql://192.168.75.133:3306/itoken-service-admin?useUnicode=true&characterEncoding=utf-8&useSSL=false\n          username: root\n          password: 123456\n          initial-size: 1\n          min-idle: 1\n          max-active: 20\n          test-on-borrow: true\n          # MySQL 8.x: com.mysql.cj.jdbc.Driver\n          driver-class-name: com.mysql.jdbc.Driver\n    \n    server:\n      port: 8501\n    \n    mybatis:\n      type-aliases-package: com.cmcc.itoken.service.admin.domain\n      mapper-locations: classpath:mapper/*.xml\n    \n    eureka:\n      client:\n        serviceUrl:\n          defaultZone: http://192.168.75.137:8761/eureka/,http://192.168.75.137:8861/eureka/,http://192.168.75.137:8961/eureka/\n    \n    management:\n      endpoint:\n        health:\n          show-details: always\n      endpoints:\n        web:\n          exposure:\n            include: health,info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h2",{attrs:{id:"创建接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建接口"}},[s._v("#")]),s._v(" 创建接口")]),s._v(" "),a("h3",{attrs:{id:"adminservice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adminservice"}},[s._v("#")]),s._v(" AdminService")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    package com.cmcc.itoken.service.admin.service;\n    \n    import com.cmcc.itoken.service.admin.domain.TbSysUser;\n    \n    public interface AdminService {\n    \n        /**\n         * 注册\n         * @param tbSysUser\n         */\n        void register(TbSysUser tbSysUser);\n    \n        /**\n         * 登录\n         * @param loginCode 登录账号\n         * @param plantPassword 明文登录密码\n         * @return\n         */\n        TbSysUser login(String loginCode, String plantPassword);\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"adminserviceimpl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adminserviceimpl"}},[s._v("#")]),s._v(" AdminServiceImpl")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    package com.cmcc.itoken.service.admin.service.impl;\n    \n    import com.cmcc.itoken.service.admin.domain.TbSysUser;\n    import com.cmcc.itoken.service.admin.mapper.TbSysUserMapper;\n    import com.cmcc.itoken.service.admin.service.AdminService;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n    import org.springframework.transaction.annotation.Transactional;\n    import org.springframework.util.DigestUtils;\n    import tk.mybatis.mapper.entity.Example;\n    \n    import java.util.List;\n    \n    @Service\n    @Transactional(readOnly = true)\n    public class AdminServiceImpl implements AdminService {\n    \n        @Autowired\n        private TbSysUserMapper tbSysUserMapper;\n    \n        @Transactional(readOnly = false)\n        @Override\n        public void register(TbSysUser tbSysUser) {\n            tbSysUserMapper.insert(tbSysUser);\n        }\n    \n        @Override\n        public TbSysUser login(String loginCode, String plantPassword) {\n            Example example = new Example(TbSysUser.class);\n            example.createCriteria().andEqualTo("loginCode", loginCode);\n    \n            TbSysUser tbSysUser = tbSysUserMapper.selectOneByExample(example);\n            if (tbSysUser != null) {\n                String password = DigestUtils.md5DigestAsHex(plantPassword.getBytes());\n                if (password.equals(tbSysUser.getPassword())) {\n                    return tbSysUser;\n                }\n            }\n    \n            return null;\n        }\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("h2",{attrs:{id:"mybatis-代码自动生成配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-代码自动生成配置"}},[s._v("#")]),s._v(" MyBatis 代码自动生成配置")]),s._v(" "),a("h3",{attrs:{id:"generatorconfig-xml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generatorconfig-xml"}},[s._v("#")]),s._v(" generatorConfig.xml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <?xml version="1.0" encoding="UTF-8"?>\n    <!DOCTYPE generatorConfiguration\n            PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n            "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n    \n    <generatorConfiguration>\n        \x3c!-- 引入数据库连接配置 --\x3e\n        <properties resource="jdbc.properties"/>\n    \n        <context id="Mysql" targetRuntime="MyBatis3Simple" defaultModelType="flat">\n            <property name="beginningDelimiter" value="`"/>\n            <property name="endingDelimiter" value="`"/>\n    \n            \x3c!-- 配置 tk.mybatis 插件 --\x3e\n            <plugin type="tk.mybatis.mapper.generator.MapperPlugin">\n                <property name="mappers" value="tk.mybatis.mapper.MyMapper"/>\n            </plugin>\n    \n            \x3c!-- 配置数据库连接 --\x3e\n            <jdbcConnection\n                    driverClass="${jdbc.driverClass}"\n                    connectionURL="${jdbc.connectionURL}"\n                    userId="${jdbc.username}"\n                    password="${jdbc.password}">\n            </jdbcConnection>\n    \n            \x3c!-- 配置实体类存放路径 --\x3e\n            <javaModelGenerator targetPackage="com.cmcc.itoken.service.admin.domain" targetProject="src/main/java"/>\n    \n            \x3c!-- 配置 XML 存放路径 --\x3e\n            <sqlMapGenerator targetPackage="mapper" targetProject="src/main/resources"/>\n    \n            \x3c!-- 配置 DAO 存放路径 --\x3e\n            <javaClientGenerator\n                    targetPackage="com.cmcc.itoken.service.admin.mapper"\n                    targetProject="src/main/java"\n                    type="XMLMAPPER"/>\n    \n            \x3c!-- 配置需要生成的表，% 代表所有 --\x3e\n            <table tableName="tb_sys_user">\n                \x3c!-- mysql 配置 --\x3e\n                <generatedKey column="user_code" sqlStatement="Mysql" identity="false"/>\n            </table>\n        </context>\n    </generatorConfiguration>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br")])]),a("h3",{attrs:{id:"jdbc-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-properties"}},[s._v("#")]),s._v(" jdbc.properties")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    # MySQL 8.x: com.mysql.cj.jdbc.Driver\n    jdbc.driverClass=com.mysql.jdbc.Driver\n    jdbc.connectionURL=jdbc:mysql://192.168.75.133:3306/itoken-service-admin?useUnicode=true&characterEncoding=utf-8&useSSL=false\n    jdbc.username=root\n    jdbc.password=123456\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"服务所需数据库脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务所需数据库脚本"}},[s._v("#")]),s._v(" 服务所需数据库脚本")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    /*\n    SQLyog  v12.2.6 (64 bit)\n    MySQL - 5.7.22 : Database - itoken-service-admin\n    *********************************************************************\n    */\n    \n    \n    /*!40101 SET NAMES utf8 */;\n    \n    /*!40101 SET SQL_MODE=''*/;\n    \n    /*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\n    /*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n    /*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n    /*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n    CREATE DATABASE /*!32312 IF NOT EXISTS*/`itoken-service-admin` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;\n    \n    USE `itoken-service-admin`;\n    \n    DROP TABLE IF EXISTS tb_sys_user;\n    \n    -- 管理员表\n    CREATE TABLE tb_sys_user\n    (\n    \tuser_code varchar(100) NOT NULL COMMENT '用户编码',\n    \tlogin_code varchar(100) NOT NULL COMMENT '登录账号',\n    \tuser_name varchar(100) NOT NULL COMMENT '用户昵称',\n    \tpassword varchar(100) NOT NULL COMMENT '登录密码',\n    \temail varchar(300) COMMENT '电子邮箱',\n    \tmobile varchar(100) COMMENT '手机号码',\n    \tphone varchar(100) COMMENT '办公电话',\n    \tsex char(1) COMMENT '用户性别',\n    \tavatar varchar(1000) COMMENT '头像路径',\n    \tsign varchar(200) COMMENT '个性签名',\n    \twx_openid varchar(100) COMMENT '绑定的微信号',\n    \tmobile_imei varchar(100) COMMENT '绑定的手机串号',\n    \tuser_type varchar(16) NOT NULL COMMENT '用户类型',\n    \tref_code varchar(64) COMMENT '用户类型引用编号',\n    \tref_name varchar(100) COMMENT '用户类型引用姓名',\n    \tmgr_type char(1) NOT NULL COMMENT '管理员类型（0非管理员 1系统管理员  2二级管理员）',\n    \tpwd_security_level decimal(1) COMMENT '密码安全级别（0初始 1很弱 2弱 3安全 4很安全）',\n    \tpwd_update_date datetime COMMENT '密码最后更新时间',\n    \tpwd_update_record varchar(1000) COMMENT '密码修改记录',\n    \tpwd_question varchar(200) COMMENT '密保问题',\n    \tpwd_question_answer varchar(200) COMMENT '密保问题答案',\n    \tpwd_question_2 varchar(200) COMMENT '密保问题2',\n    \tpwd_question_answer_2 varchar(200) COMMENT '密保问题答案2',\n    \tpwd_question_3 varchar(200) COMMENT '密保问题3',\n    \tpwd_question_answer_3 varchar(200) COMMENT '密保问题答案3',\n    \tpwd_quest_update_date datetime COMMENT '密码问题修改时间',\n    \tlast_login_ip varchar(100) COMMENT '最后登陆IP',\n    \tlast_login_date datetime COMMENT '最后登陆时间',\n    \tfreeze_date datetime COMMENT '冻结时间',\n    \tfreeze_cause varchar(200) COMMENT '冻结原因',\n    \tuser_weight decimal(8) DEFAULT 0 COMMENT '用户权重（降序）',\n    \tstatus char NOT NULL COMMENT '状态（0正常 1删除 2停用 3冻结）',\n    \tcreate_by varchar(64) NOT NULL COMMENT '创建者',\n    \tcreate_date datetime NOT NULL COMMENT '创建时间',\n    \tupdate_by varchar(64) NOT NULL COMMENT '更新者',\n    \tupdate_date datetime NOT NULL COMMENT '更新时间',\n    \tremarks varchar(500) COMMENT '备注信息',\n    \tcorp_code varchar(64) DEFAULT '0' NOT NULL COMMENT '归属集团Code',\n    \tcorp_name varchar(100) DEFAULT 'iToken' NOT NULL COMMENT '归属集团Name',\n    \textend_s1 varchar(500) COMMENT '扩展 String 1',\n    \textend_s2 varchar(500) COMMENT '扩展 String 2',\n    \textend_s3 varchar(500) COMMENT '扩展 String 3',\n    \textend_s4 varchar(500) COMMENT '扩展 String 4',\n    \textend_s5 varchar(500) COMMENT '扩展 String 5',\n    \textend_s6 varchar(500) COMMENT '扩展 String 6',\n    \textend_s7 varchar(500) COMMENT '扩展 String 7',\n    \textend_s8 varchar(500) COMMENT '扩展 String 8',\n    \textend_i1 decimal(19) COMMENT '扩展 Integer 1',\n    \textend_i2 decimal(19) COMMENT '扩展 Integer 2',\n    \textend_i3 decimal(19) COMMENT '扩展 Integer 3',\n    \textend_i4 decimal(19) COMMENT '扩展 Integer 4',\n    \textend_f1 decimal(19,4) COMMENT '扩展 Float 1',\n    \textend_f2 decimal(19,4) COMMENT '扩展 Float 2',\n    \textend_f3 decimal(19,4) COMMENT '扩展 Float 3',\n    \textend_f4 decimal(19,4) COMMENT '扩展 Float 4',\n    \textend_d1 datetime COMMENT '扩展 Date 1',\n    \textend_d2 datetime COMMENT '扩展 Date 2',\n    \textend_d3 datetime COMMENT '扩展 Date 3',\n    \textend_d4 datetime COMMENT '扩展 Date 4',\n    \tPRIMARY KEY (user_code)\n    ) COMMENT = '用户表';\n    \n    CREATE INDEX idx_sys_user_lc ON tb_sys_user (login_code ASC);\n    CREATE INDEX idx_sys_user_email ON tb_sys_user (email ASC);\n    CREATE INDEX idx_sys_user_mobile ON tb_sys_user (mobile ASC);\n    CREATE INDEX idx_sys_user_wo ON tb_sys_user (wx_openid ASC);\n    CREATE INDEX idx_sys_user_imei ON tb_sys_user (mobile_imei ASC);\n    CREATE INDEX idx_sys_user_rt ON tb_sys_user (user_type ASC);\n    CREATE INDEX idx_sys_user_rc ON tb_sys_user (ref_code ASC);\n    CREATE INDEX idx_sys_user_mt ON tb_sys_user (mgr_type ASC);\n    CREATE INDEX idx_sys_user_us ON tb_sys_user (user_weight ASC);\n    CREATE INDEX idx_sys_user_ud ON tb_sys_user (update_date ASC);\n    CREATE INDEX idx_sys_user_status ON tb_sys_user (status ASC);\n    CREATE INDEX idx_sys_user_cc ON tb_sys_user (corp_code ASC);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br")])]),a("h2",{attrs:{id:"单元测试代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单元测试代码"}},[s._v("#")]),s._v(" 单元测试代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    package com.cmcc.itoken.service.admin.test.service;\n    \n    import com.cmcc.itoken.service.admin.ServiceAdminApplication;\n    import com.cmcc.itoken.service.admin.domain.TbSysUser;\n    import com.cmcc.itoken.service.admin.service.AdminService;\n    import org.junit.Assert;\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.context.SpringBootTest;\n    import org.springframework.test.annotation.Rollback;\n    import org.springframework.test.context.ActiveProfiles;\n    import org.springframework.test.context.junit4.SpringRunner;\n    import org.springframework.transaction.annotation.Transactional;\n    import org.springframework.util.DigestUtils;\n    \n    import java.util.Date;\n    import java.util.UUID;\n    \n    @RunWith(SpringRunner.class)\n    @SpringBootTest(classes = ServiceAdminApplication.class)\n    @ActiveProfiles(value = "prod")\n    @Transactional\n    @Rollback\n    public class AdminServiceTest {\n    \n        @Autowired\n        private AdminService adminService;\n    \n        /**\n         * 注册\n         */\n        @Test\n        public void testRegister() {\n            TbSysUser tbSysUser = new TbSysUser();\n            tbSysUser.setUserCode(UUID.randomUUID().toString());\n            tbSysUser.setLoginCode("cmcc@cmcc.com");\n            tbSysUser.setUserName("cmcc");\n            tbSysUser.setUserType("1");\n            tbSysUser.setMgrType("1");\n            tbSysUser.setStatus("0");\n            tbSysUser.setCreateBy(tbSysUser.getUserCode());\n            tbSysUser.setCreateDate(new Date());\n            tbSysUser.setUpdateBy(tbSysUser.getUserCode());\n            tbSysUser.setUpdateDate(new Date());\n            tbSysUser.setCorpCode("0");\n            tbSysUser.setCorpName("iToken");\n            tbSysUser.setPassword(DigestUtils.md5DigestAsHex("123456".getBytes()));\n            adminService.register(tbSysUser);\n        }\n    \n        /**\n         * 登录\n         */\n        @Test\n        public void testLogin() {\n            TbSysUser tbSysUser = adminService.login("cmcc@cmcc.com", "123456");\n            Assert.assertNotNull(tbSysUser);\n        }\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br")])]),a("h2",{attrs:{id:"特别说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特别说明"}},[s._v("#")]),s._v(" 特别说明")]),s._v(" "),a("p",[s._v("由于服务代码大同小异，故仅 管理员服务 提供相关代码案例，其它服务无特殊情况不再以博客性质提供代码。")])])}),[],!1,null,null,null);n.default=t.exports}}]);