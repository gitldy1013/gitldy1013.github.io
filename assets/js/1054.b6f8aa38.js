(window.webpackJsonp=window.webpackJsonp||[]).push([[1054],{1750:function(s,n,a){"use strict";a.r(n);var e=a(5),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"wangeditor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wangeditor"}},[s._v("#")]),s._v(" wangEditor")]),s._v(" "),a("p",[s._v("轻量级 web 富文本编辑器，配置方便，使用简单。支持 IE10+ 浏览器。")]),s._v(" "),a("ul",[a("li",[s._v("官网：http://www.wangEditor.com")]),s._v(" "),a("li",[s._v("文档：http://www.kancloud.cn/wangfupeng/wangeditor3/332599")]),s._v(" "),a("li",[s._v("源码：http://github.com/wangfupeng1988/wangEditor")])]),s._v(" "),a("h2",{attrs:{id:"什么是富文本编辑器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是富文本编辑器"}},[s._v("#")]),s._v(" 什么是富文本编辑器")]),s._v(" "),a("p",[s._v("富文本编辑器，Rich Text Editor, 简称 RTE, 它提供类似于 Microsoft Word 的编辑功能，容易被不会编写 HTML 的用户并需要设置各种文本格式的用户所喜爱。它的应用也越来越广泛。最先只有 IE 浏览器支持，其它浏览器相继跟进，在功能的丰富性来说，还是 IE 强些。虽然没有一个统一的标准，但对于最基本的功能，各浏览器提供的 API 基本一致，从而使编写一个跨浏览器的富文本编辑器成为可能。")]),s._v(" "),a("h2",{attrs:{id:"页面引入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面引入"}},[s._v("#")]),s._v(" 页面引入")]),s._v(" "),a("p",[s._v("CSS 部分")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <link rel="stylesheet" href="/static/assets/plugins/wangEditor/wangEditor.min.css" />\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("JS 部分")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <script src="/static/assets/plugins/wangEditor/wangEditor.min.js"><\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"启用-wangeditor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启用-wangeditor"}},[s._v("#")]),s._v(" 启用 wangEditor")]),s._v(" "),a("p",[s._v("只需要一个 "),a("code",[s._v("div")]),s._v(" 元素，用 JavaScript 代码启用即可")]),s._v(" "),a("p",[s._v("HTML 结构如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    <div id="editor"></div>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("JavaScript 启用代码如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    var E = window.wangEditor;\n    var editor = new E('#editor');\n    editor.create();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"效果演示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#效果演示"}},[s._v("#")]),s._v(" 效果演示")]),s._v(" "),a("p",[s._v("配置完成后，在浏览器端显示如下：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/1530124826.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"服务端支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务端支持"}},[s._v("#")]),s._v(" 服务端支持")]),s._v(" "),a("p",[s._v("配置方式同 "),a("RouterLink",{attrs:{to:"/2018/06/27/appose/Dropzone-图片上传插件/#服务端支持"}},[s._v("Dropzone 图片上传插件")])],1),s._v(" "),a("h3",{attrs:{id:"控制器关键代码参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#控制器关键代码参考"}},[s._v("#")]),s._v(" 控制器关键代码参考")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    package com.cmcc.my.shop.web.admin.web.controller;\n    \n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n    import org.springframework.web.bind.annotation.ResponseBody;\n    import org.springframework.web.multipart.MultipartFile;\n    \n    import javax.servlet.http.HttpServletRequest;\n    import java.io.File;\n    import java.io.IOException;\n    import java.util.HashMap;\n    import java.util.Map;\n    import java.util.UUID;\n    \n    /**\n     * 文件上传控制器\n     * <p>Title: UploadController</p>\n     * <p>Description: </p>\n     *\n     * @author cmcc\n     * @version 1.0.0\n     * @date 2018/6/27 14:32\n     */\n    @Controller\n    public class UploadController {\n    \n        private static final String UPLOAD_PATH = "/static/upload/";\n    \n        /**\n         * 文件上传\n         *\n         * @return\n         */\n        @ResponseBody\n        @RequestMapping(value = "upload", method = RequestMethod.POST)\n        public Map<String, Object> upload(MultipartFile editorFile, HttpServletRequest request) {\n            Map<String, Object> result = new HashMap<>();\n    \n            // 获取文件后缀\n            String fileName = editorFile.getOriginalFilename();\n            String fileSuffix = fileName.substring(fileName.lastIndexOf("."));\n    \n            // 文件存放路径\n            String filePath = request.getSession().getServletContext().getRealPath(UPLOAD_PATH);\n    \n            // 判断路径是否存在，不存在则创建文件夹\n            File file = new File(filePath);\n            if (!file.exists()) {\n                file.mkdir();\n            }\n    \n            // 将文件写入目标\n            file = new File(filePath, UUID.randomUUID() + fileSuffix);\n            try {\n                editorFile.transferTo(file);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n    \n            // 获取服务端路径\n            String serverPath = String.format("%s://%s:%s%s%s", request.getScheme(), request.getServerName(), request.getServerPort(), request.getContextPath(), UPLOAD_PATH);\n            \n            // 返回给 wangEditor 的数据格式\n            result.put("errno", 0);\n            result.put("data", new String[]{serverPath + file.getName()});\n            return result;\n        }\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br")])]),a("p",[s._v("相比 "),a("code",[s._v("Dropzone 图片上传插件")]),s._v(" 一节，控制器代码的主要差别在于接口返回的数据格式，官方要求的格式如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    {\n        // errno 即错误代码，0 表示没有错误。\n        //       如果有错误，errno != 0，可通过下文中的监听函数 fail 拿到该错误码进行自定义处理\n        "errno": 0,\n    \n        // data 是一个数组，返回若干图片的线上地址\n        "data": [\n            "图片1地址",\n            "图片2地址",\n            "……"\n        ]\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);